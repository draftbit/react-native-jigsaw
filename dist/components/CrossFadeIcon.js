"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_reactLifecyclesCompat=require("react-lifecycles-compat"),_Icon=_interopRequireWildcard(require("./Icon"));function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}class CrossFadeIcon extends React.Component{constructor(){super(...arguments),this.state={currentIcon:this.props.source,previousIcon:null,fade:new _reactNative.Animated.Value(1)}}static getDerivedStateFromProps(a,b){return b.currentIcon===a.source?null:{currentIcon:a.source,previousIcon:b.currentIcon}}componentDidUpdate(a,b){const{previousIcon:c}=this.state;!(0,_Icon.isValidIcon)(c)||(0,_Icon.isEqualIcon)(c,b.previousIcon)||(this.state.fade.setValue(1),_reactNative.Animated.timing(this.state.fade,{duration:200,toValue:0}).start())}render(){const{color:a,size:b}=this.props,c=this.state.fade,d=this.state.previousIcon?this.state.fade.interpolate({inputRange:[0,1],outputRange:[1,0]}):1,e=this.state.fade.interpolate({inputRange:[0,1],outputRange:["-90deg","0deg"]}),f=this.state.previousIcon?this.state.fade.interpolate({inputRange:[0,1],outputRange:["0deg","-180deg"]}):"0deg";return React.createElement(_reactNative.View,{style:[styles.content,{height:b,width:b}]},this.state.previousIcon?React.createElement(_reactNative.Animated.View,{style:[styles.icon,{opacity:c,transform:[{rotate:e}]}]},React.createElement(_Icon.default,{source:this.state.previousIcon,size:b,color:a})):null,React.createElement(_reactNative.Animated.View,{style:[styles.icon,{opacity:d,transform:[{rotate:f}]}]},React.createElement(_Icon.default,{source:this.state.currentIcon,size:b,color:a})))}}(0,_reactLifecyclesCompat.polyfill)(CrossFadeIcon);var _default=CrossFadeIcon;exports.default=_default;const styles=_reactNative.StyleSheet.create({content:{alignItems:"center",justifyContent:"center"},icon:{position:"absolute",top:0,left:0,right:0,bottom:0}});