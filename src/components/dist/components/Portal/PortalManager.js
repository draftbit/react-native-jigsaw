"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_reactNative=require("react-native");function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}/**
 * Portal host is the component which actually renders all Portals.
 */class PortalManager extends React.PureComponent{constructor(){super(...arguments),this.state={portals:[]},this.mount=(a,b)=>{this.setState(c=>({portals:[...c.portals,{key:a,children:b}]}))},this.update=(a,b)=>this.setState(c=>({portals:c.portals.map(c=>c.key===a?_objectSpread({},c,{children:b}):c)})),this.unmount=a=>this.setState(b=>({portals:b.portals.filter(b=>b.key!==a)}))}render(){return this.state.portals.map((a)=>{let{key:b,children:c}=a;return React.createElement(_reactNative.View,{key:b,collapsable:!1/* Need collapsable=false here to clip the elevations, otherwise they appear above sibling components */,pointerEvents:"box-none",style:_reactNative.StyleSheet.absoluteFill},c)})}}exports.default=PortalManager;